(function(t){function e(e){for(var n,o,r=e[0],u=e[1],c=e[2],f=0,d=[];f<r.length;f++)o=r[f],s[o]&&d.push(s[o][0]),s[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var u=a[r];0!==s[u]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/wms/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var l=u;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2fe3":function(t,e,a){"use strict";var n=a("c325"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("a026"),s=a("bb71");a("da64");n["a"].use(s["a"],{iconfont:"md"});var i=a("d225"),o=a("b0b4"),r=(a("ac6a"),function(){function t(e,a){Object(i["a"])(this,t),this.stages=e,this.done=a,this.gates=[{id:11,stage:1,time:2,task:{id:123}},{id:2,stage:1,time:3,task:{id:234}},{id:3,stage:0,time:4,task:{id:345}},{id:4,stage:3,time:2,task:{id:546}},{id:5,stage:1,time:2,task:{id:675}}]}return Object(o["a"])(t,[{key:"getList",value:function(){return this.gates}},{key:"update",value:function(t){var e=this;this.gates.forEach(function(a,n,s){s[n].task&&(s[n].time-=t,s[n].time<=0&&s[n].stage<e.stages.length&&(s[n].stage++,s[n].stage<e.stages.length&&(s[n].time=e.getTimeForStage(s[n].stage),console.log("update time",n,s[n].time))),s[n].stage>=e.stages.length&&(e.done(s[n].task),s[n].task=null))})}},{key:"getTimeForStage",value:function(t){return console.log("gtfs",this.stages[t].time),this.stages[t].time*(1.5-Math.random())}}]),t}()),u=r,c=function(t){var e=function e(){t.update(.5),setTimeout(function(){e()},500)};e()},l=function(){function t(){Object(i["a"])(this,t)}return Object(o["a"])(t,[{key:"getList",value:function(){return[12,23,34,45,56]}}]),t}(),f=l,d=function(){function t(){Object(i["a"])(this,t),this.items=[]}return Object(o["a"])(t,[{key:"getList",value:function(){return this.items}},{key:"add",value:function(t){return this.items.push(t)}}]),t}(),g=d,m=function(){function t(){Object(i["a"])(this,t)}return Object(o["a"])(t,[{key:"getList",value:function(){return[{name:"Picking",time:4},{name:"Truck waiting",time:1},{name:"Loading",time:2},{name:"Sealing",time:1}]}}]),t}(),v=m,p=function(){function t(){var e=this;Object(i["a"])(this,t),this.stageModel=new v,this.doneModel=new g,this.gateModel=new u(this.stageModel.getList(),function(t){e.done(t)}),this.backlogModel=new f}return Object(o["a"])(t,[{key:"getList",value:function(t){if(this["".concat(t,"Model")]&&this["".concat(t,"Model")].getList)return this["".concat(t,"Model")].getList();throw new Error("Model ".concat(t," doesn't registered"))}},{key:"updateStage",value:function(){c(this.gateModel)}},{key:"done",value:function(t){this.doneModel.add(t)}}]),t}(),h=p,_={install:function(t,e){t.prototype.$ctrl=e.ctrl}};n["a"].use(_,{ctrl:new h});var b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{dark:""}},[a("h1",[t._v('Visualization "How Warehouse works"')]),a("dashboard")],1)},k=[],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("backlog",{staticClass:"clearfix",attrs:{items:t.backlog}}),a("v-layout",[a("v-flex",{attrs:{sm1:""}}),a("v-flex",{attrs:{sm11:""}},[a("h2",{staticClass:"text-md-center"},[t._v("Gates")])])],1),a("v-layout",[a("v-flex",{attrs:{sm1:""}},[a("h2",[t._v("Stages")]),a("stages",{attrs:{stages:t.stages}})],1),a("v-flex",{attrs:{sm11:""}},[a("gates",{attrs:{gates:t.gates,"stages-count":t.stages.length}})],1)],1),a("done",{attrs:{items:t.done}})],1)},x=[],O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-data-iterator",{attrs:{items:t.stages,"hide-actions":""},scopedSlots:t._u([{key:"item",fn:function(e){return a("div",{staticClass:"stage"},[t._v("\n    "+t._s(e.item.name)+"\n  ")])}}])})},j=[],w={name:"Stages",props:["stages"]},S=w,C=a("2877"),L=a("6544"),M=a.n(L),$=a("c377"),D=Object(C["a"])(S,O,j,!1,null,null,null);D.options.__file="Stages.vue";var V=D.exports;M()(D,{VDataIterator:$["a"]});var E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",t._l(t.gates,function(e){return a("v-flex",{key:e.id},[a("gate",{attrs:{gate:e,stagesCount:t.stagesCount}})],1)}),1)},G=[],P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",{staticClass:"text-md-center"},[t._v(t._s(t.gate.id))]),a("v-data-iterator",{staticClass:"gate",attrs:{items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"item",fn:function(e){return a("v-card",{},[a("p",{staticClass:"text-md-center",domProps:{innerHTML:t._s(e.item)}})])}}])})],1)},T=[],F={name:"Gate",props:["gate","stagesCount"],computed:{items:function(){for(var t=[],e=0;e<this.stagesCount;e++)this.gate.stage===e&&this.gate.task?t.push(this.gate.task.id):t.push("&nbsp;");return t}}},B=F,I=a("b0af"),A=Object(C["a"])(B,P,T,!1,null,null,null);A.options.__file="Gate.vue";var H=A.exports;M()(A,{VCard:I["a"],VDataIterator:$["a"]});var J={name:"Gates",props:["gates","stagesCount"],components:{Gate:H}},z=J,W=a("0e8f"),q=a("a722"),K=Object(C["a"])(z,E,G,!1,null,null,null);K.options.__file="Gates.vue";var N=K.exports;M()(K,{VFlex:W["a"],VLayout:q["a"]});var Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Backlog")]),a("v-layout",[a("v-flex",{attrs:{sm1:""}},[a("v-data-iterator",{staticClass:"backlog",attrs:{items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"item",fn:function(e){return a("div",{staticClass:"backlog-item text-md-center"},[t._v("\n          "+t._s(e.item)+"\n        ")])}}])})],1),a("v-flex",{attrs:{sm11:""}},[a("v-data-iterator",{staticClass:"time-slots",attrs:{items:t.timeslots,"hide-actions":""},scopedSlots:t._u([{key:"item",fn:function(e){return a("div",{staticClass:"time-slot text-md-center"},[t._v("\n          "+t._s(e.item)+":00\n        ")])}}])})],1)],1)],1)},R=[],U={name:"Backlog",props:["items"],computed:{timeslots:function(){return[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]}}},X=U,Y=Object(C["a"])(X,Q,R,!1,null,null,null);Y.options.__file="Backlog.vue";var Z=Y.exports;M()(Y,{VDataIterator:$["a"],VFlex:W["a"],VLayout:q["a"]});var tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Done")]),a("v-data-iterator",{staticClass:"backlog",attrs:{items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"item",fn:function(e){return a("div",{staticClass:"backlog-item text-md-center"},[t._v("\n      "+t._s(e.item.id)+"\n      ")])}}])})],1)},et=[],at={name:"Done",props:["items"]},nt=at,st=Object(C["a"])(nt,tt,et,!1,null,null,null);st.options.__file="Done.vue";var it=st.exports;M()(st,{VDataIterator:$["a"]});var ot={name:"Dashboard",components:{Stages:V,Gates:N,Backlog:Z,Done:it},data:function(){return{gates:[],done:[]}},computed:{backlog:function(){return this.$ctrl.getList("backlog")},stages:function(){return this.$ctrl.getList("stage")}},methods:{start:function(){console.log("start"),this.$ctrl.updateStage(),this.getGates(),this.getDone()},getGates:function(){this.gates=this.$ctrl.getList("gate")},getDone:function(){this.done=this.$ctrl.getList("done")}},created:function(){console.log(this.$ctrl),this.start()},destroyed:function(){}},rt=ot,ut=(a("2fe3"),Object(C["a"])(rt,y,x,!1,null,null,null));ut.options.__file="Dashboard.vue";var ct=ut.exports;M()(ut,{VFlex:W["a"],VLayout:q["a"]});var lt={name:"app",components:{Dashboard:ct}},ft=lt,dt=a("7496"),gt=Object(C["a"])(ft,b,k,!1,null,null,null);gt.options.__file="App.vue";var mt=gt.exports;M()(gt,{VApp:dt["a"]}),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(mt)}}).$mount("#app")},c325:function(t,e,a){}});
//# sourceMappingURL=app.5a768c9c.js.map